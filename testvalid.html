<!DOCTYPE html>
<html>
<head>
    <title>Registration-form</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

  <style>
    body {
      font-family: Arial, sans-serif;
    }
    
    .form-container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 8px;
      font-size: 14px;
      border-radius: 3px;
      border: 1px solid #ccc;
    }
    
    .error-message {
      color: red;
      font-size: 12px;
      margin-top: 5px;
    }
    
    .submit-button {
      padding: 10px 20px;
      font-size: 14px;
      background-color: #0F3057;
      color: white;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    
    .submit-button:hover {
      background-color: #0F3057;
    }
  </style>
  <style>
    .registration-form {
      display: none;
    }
  </style>
   <script>
    function showRegistrationForm() {
      var form = document.getElementById("registrationForm");
      form.style.display = "block";
    }
  </script>
  <script>
    function goBack() {
      window.history.back(); // Go back to the previous page
    }
    </script>
  <script>

function showSuccessMessage() {
    var successMessage = document.getElementById("successMessage");
    successMessage.style.display = "block";
    // Display an alert message
    //alert("Registration successful!");
  }
  

function Register() {
  event.preventDefault();

  if (!validateForm()) {
    return; // Stop further execution if the form is not valid
  }



  let data = {};
  data.userID = document.getElementById("userID").value;
  data.username = document.getElementById("username").value;
  data.admissionNo = document.getElementById("admissionNo").value;
  data.email = document.getElementById("email").value;
  data.phoneNo = document.getElementById("phoneNo").value;
  data.sex = document.getElementById("sex").value;
  data.address = document.getElementById("address").value;
  data = JSON.stringify(data);

  const xhr = new XMLHttpRequest();
  xhr.withCredentials = true;

  xhr.addEventListener("readystatechange", function () {
    if (this.readyState === this.DONE) {
      console.log(this.responseText);
      showSuccessMessage();
    }
  });

  xhr.open("POST", "http://localhost:3000/signup");

  xhr.setRequestHeader("Accept", "/");
  xhr.setRequestHeader("User-Agent", "Thunder Client (https://www.thunderclient.com)");
  xhr.setRequestHeader("Content-Type", "application/json");

  xhr.send(data);
}




      </script>
  <script>
    function validateForm() {
      var userID = document.forms["registrationForm"]["userID"].value;
      var username = document.forms["registrationForm"]["username"].value;
      var admissionNo = document.forms["registrationForm"]["admissionNo"].value;
      var email = document.forms["registrationForm"]["email"].value;
      var phoneNo = document.forms["registrationForm"]["phoneNo"].value;
      var sex = document.forms["registrationForm"]["sex"].value;
      var address = document.forms["registrationForm"]["address"].value;
      
      var errorBox = document.getElementById("errorBox");
      errorBox.innerHTML = ""; // Clear previous error messages
      
      var isValid = true;
      
      // User ID validation
      if (!/^\d+$/.test(userID)) {
        showError("userID", "User ID should be a number.");
        isValid = false;
      }
      
      // Username validation
      if (username.trim() === "") {
        showError("username", "Username is required.");
        isValid = false;
      }
      
      // Admission number validation
      if (!/^\d+$/.test(admissionNo)) {
        showError("admissionNo", "Admission number should be a number.");
        isValid = false;
      }
      
      // Email validation
      if (!/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/.test(email)) {
        showError("email", "Please enter a valid email address.");
        isValid = false;
      }
      
      // Phone number validation
      if (!/^\d{10}$/.test(phoneNo)) {
        showError("phoneNo", "Phone number should be a 10-digit number.");
        isValid = false;
      }
      
      // Sex validation
      if (sex.trim() === "") {
        showError("sex", "Please select your sex.");
        isValid = false;
      }
      
      // Address validation
      if (address.trim() === "") {
        showError("address", "Address is required.");
        isValid = false;
      }
      
      return isValid;
    }
    
    function showError(fieldId, errorMessage) {
      var fieldContainer = document.getElementById(fieldId + "-container");
      fieldContainer.classList.add("error");
      
      var errorContainer = document.getElementById(fieldId + "-error");
      errorContainer.textContent = errorMessage;
    }

    function removeError(fieldId) {
  var fieldContainer = document.getElementById(fieldId + "-container");
  fieldContainer.classList.remove("error");
  
  var errorContainer = document.getElementById(fieldId + "-error");
  errorContainer.textContent = "";
}
  </script>
   <script>
    function showRegistrationForm() {
      var form = document.getElementById("registrationForm");
      form.style.display = "block";
    }
    </script>
</head>
<body>
     <!-- Topbar Start -->
     <div class="container-fluid bg-light pt-3 d-none d-lg-block">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                    <div class="d-inline-flex align-items-center">
                        
                    </div>
                </div>
                <div class="col-lg-6 text-center text-lg-right">
                    <div class="d-inline-flex align-items-center">   
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid position-relative nav-bar p-0">
        <div class="container-lg position-relative p-0 px-lg-3" style="z-index: 9;">
            <nav class="navbar navbar-expand-lg bg-light navbar-light shadow-lg py-3 py-lg-0 pl-3 pl-lg-5">
                <a href="" class="navbar-brand">
    <img src="img/logo.png" width="20%" height="20%" alt="Logo">
    <h2 style="color:#DC2861;">
        <span class="text-dark">P</span>UB<span class="text-dark">LI</span>C<span class="text-dark"> LI</span>B<span class="text-dark">RA</span>RY
    </h2> 
                </a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between px-3" id="navbarCollapse">
                    <div class="navbar-nav ml-auto py-1">
                        <a style="color:#0F3057;"href="index1.html">Home</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <a style="color:#0F3057;"href="index1.html#section">Login</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <a  style="color:#0F3057;" href="#" onclick="goBack()">Back</a>
                       
                </div>
            </nav>
        </div>
    </div>
    <!-- Navbar End -->


    <!-- Header Start -->
    <div class="container-fluid page-header">
        <div class="container">
            <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 400px">
                <div class="d-inline-flex text-white">
                </div>
            </div>
        </div>
    </div>
    <!-- Header End -->


    <!-- Booking Start -->
    <div class="container-fluid booking mt-5 pb-5">
        <div class="container pb-5">
            <div class="bg-light shadow" style="padding: 30px;">
                <div class="row align-items-center" style="min-height: 60px;">
                    <div class="col-md-10">
                        <div class="row">
                            <div class="col-md-10">
                                
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <!-- Booking End -->


    <!-- Registration Start -->
    <div class="section" id="section">
        <div class="container-fluid py-5">
            <div class="container pt-5">
                <div class="row">
                    <div class="col-lg-6" style="min-height: 500px;">
                        <div class="position-relative h-100">
                            <img class="position-absolute w-100 h-100" src="img/image1.jpg" style="object-fit: cover;">
                        </div>
                    </div>
                    <div class="col-lg-6 pt-5 pb-lg-5">
        <div class="about-text bg-white p-4 p-lg-5 my-lg-5" style="border: 10px solid #ccc;">
    <center>
    <button  onclick="showRegistrationForm()"> User Register</button>
    <div id="registrationForm" class="registration-form">
    <br>
  <div class="form-container">
    <form name="registrationForm" onsubmit="return validateForm()">
      <div class="form-group" id="userID-container">
        <label for="userID">User ID:</label>
        <input type="text" id="userID" name="userID">
        <div id="userID-error" class="error-message"></div>
      </div>
      
      <div class="form-group" id="username-container">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username">
        <div id="username-error" class="error-message"></div>
      </div>
      
      <div class="form-group" id="admissionNo-container">
        <label for="admissionNo">Admission No:</label>
        <input type="text" id="admissionNo" name="admissionNo">
        <div id="admissionNo-error" class="error-message"></div>
      </div>
      
      <div class="form-group" id="email-container">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email">
        <div id="email-error" class="error-message"></div>
      </div>
      
      <div class="form-group" id="phoneNo-container">
        <label for="phoneNo">Phone Number:</label>
        <input type="text" id="phoneNo" name="phoneNo">
        <div id="phoneNo-error" class="error-message"></div>
      </div>
      
      <div class="form-group" id="sex-container">
        <label for="sex">Sex:</label>
        <select id="sex" name="sex">
          <option value="">Select</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="other">Other</option>
        </select>
        <div id="sex-error" class="error-message"></div>
      </div>
      
      <div class="form-group" id="address-container">
        <label for="address">Address:</label>
        <textarea id="address" name="address"></textarea>
        <div id="address-error" class="error-message"></div>
      </div>
      
      <input type="submit" value="Register" onclick="Register()" class="submit-button">
      
      <div id="errorBox"></div>
      <div id="successMessage" style="display: none;">Registration successful!</div>
    </form>
   

  </div>
  </div>
  </div>
  </div>
  </div>
</div>
</center>
 <!-- Registration End -->

<!-- Footer Start -->
<div class="container-fluid  py-5 px-sm-3 px-lg-5" style="margin-top: 90px; background-color: #0F3057; ">
    <div class="row pt-3">
        <div class="col-lg-6 col-md-6 mb-5">
            <a href="" class="navbar-brand">
              
<h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">PUBLIC LIBRARY</h5>

            </a>
            <p style="text-align:justify; color:#FFFFFF">A digital gateway to a world of knowledge and resources. 
                It offers easy access to an extensive collection of books, articles, and multimedia content,
                 as well as online services such as e-book borrowing and interactive learning programs. 
                 With its user-friendly interface and robust features, the website provides an immersive 
                 and convenient platform for visitors to explore, connect, and engage with the library's offerings from the comfort of their own homes.</p>
           
        </div>
        
        <div class="col-lg-3 col-md-6 mb-5">
            <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Usefull Links</h5>
            <div class="d-flex flex-column justify-content-start">
                <a  style="color: #FFFFFF;"href="#"><i class="fa fa-angle-right mr-2"></i>Home</a>
                <a style="color: #FFFFFF;" href="#"><i class="fa fa-angle-right mr-2"></i>Login</a>
            </div>
        </div>
        
    </div>
</div>

<!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
</body>

</html>